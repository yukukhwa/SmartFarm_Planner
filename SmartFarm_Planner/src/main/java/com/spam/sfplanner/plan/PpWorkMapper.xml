<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.spam.sfplanner.plan.PpWorkMapper">
 	<resultMap type="com.spam.sfplanner.plan.PpWorkDb" id="ppWorkDb">
 		<id column="pp_work_number" property="ppWorkNumber"/>
 		<result column="pp_work_name" property="ppWorkName"/>
 		<result column="pp_work_startday" property="ppWorkStartDay"/>
 		<result column="pp_work_endday" property="ppWorkEndday"/>
 		<result column="pp_work_content" property="ppWorkContent"/>
 		<result column="pp_work_area" property="ppWorkArea"/>
 		<collection property="farmDb" ofType="com.spam.sfplanner.corporation.FarmDb">
 			<id column="f_number" property="fNumber"/>
 			<result column="f_name" property="fName"/>
 			<result column="f_member_id" property="fMemberId"/>
 			<result column="f_phone" property="fPhone"/>
 			<result column="f_doroaddress" property="fDoroaddress"/>
 			<result column="f_jibunaddress" property="fJibunaddress"/>
 			<result column="f_party" property="fParty"/>
 			<result column="f_registdate" property="fRegistdate"/>
 		</collection>
 		<collection property="productionPlanDb" ofType="com.spam.sfplanner.plan.ProductionPlanDb">
 			<id column="pp_number" property="ppNumber"/>
 			<result column="pp_startday" property="ppStartday"/>
 			<result column="pp_endday" property="ppEndday"/>
 			<result column="pp_ownarea" property="ppOwnarea"/>
 			<result column="pp_rentarea" property="ppRentarea"/>
 			<result column="pp_recordday" property="ppRecordday"/>
 			<result column="pp_secret" property="ppSecret"/>
 		</collection>
 	</resultMap>
 	
 	<select id="listSelectPpWork"
 		resultMap="ppWorkDb">
 		SELECT sp_pp_work.pp_work_number
		   , sp_pp_work.pp_work_name
		   , sp_pp_work.pp_work_startday
		   , sp_pp_work.pp_work_endday
		   , sp_pp_work.pp_work_content
		   , sp_pp_work.pp_work_area
		   , sp_pp.pp_number
		   , sp_pp.pp_ownarea
		   , sp_pp.pp_rentarea
		   , sp_farm.f_number
		   , sp_farm.f_name
		FROM sp_pp_work
		JOIN sp_pp
		ON sp_pp_work.pp_number = sp_pp.pp_number
		JOIN sp_farm
		ON sp_pp_work.f_number = sp_farm.f_number
 	</select>
 </mapper>